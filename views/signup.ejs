<%- include("partials/header") %>
    <!-- Navbar -->
    <%- include("partials/navbar") %>

        <!-- Accessibility Sliding Bar -->
        <%- include("partials/sliding_bar") %>

            <main class="container mx-auto mt-8 flex-grow">
                <!-- Page Title -->
                <div>
                    <h1 class="text-blue-400 text-4xl font-bold text-center mb-8 ml-2">Sign up</h1>
                </div>

                <!-- Text -->
                <div>
                    <p class="text-center mb-4">Create a new account. Or log in if you already have one.</p>
                </div>

                <!-- Sign in Form -->
                <div class="flex justify-center">
                    <form action="/signup" method="POST"
                        class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4 w-full max-w-sm">

                        <!-- Error Message if applicable -->
                        <% if (errorMessage) { %>
                            <div class="mb-4 bg-red-100 border-l-4 border-red-500 text-red-700 p-4" role="alert">
                                <p class="font-bold">Error</p>
                                <p>
                                    <%= errorMessage %>
                                </p>
                            </div>
                            <% } %>

                                <!-- Email input -->
                                <div class="mb-4">
                                    <label class="block text-gray-700 text-sm font-bold mb-2" for="email">Email</label>
                                    <input type="email" id="email" name="email" autocomplete="off" required
                                        class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                                </div>

                                <!-- Username input -->
                                <div class="mb-4">
                                    <label class="block text-gray-700 text-sm font-bold mb-2"
                                        for="username">Username</label>
                                    <input type="text" id="username" name="username" autocomplete="off" required
                                        class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                                </div>

                                <!-- Password input -->
                                <div class="mb-6">
                                    <label class="block text-gray-700 text-sm font-bold mb-2"
                                        for="password">Password</label>
                                    <input type="password" id="password" name="password" autocomplete="new-password"
                                        title="Password must be between 4-20 characters" required
                                        class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                                </div>

                                <!-- Sign up / Log in buttons -->
                                <div class="flex items-center justify-between">
                                    <button type="submit"
                                        class="bg-gradient-to-r from-blue-400 to-blue-300 text-white font-bold py-2 px-4 rounded shadow hover:shadow-lg transition-shadow">Sign
                                        Up</button>
                                    <a href="/login"
                                        class="inline-block align-baseline font-bold text-sm text-blue-400 hover:text-blue-500">Log
                                        in</a>
                                </div>
                    </form>
                </div>
            </main>

            <!-- Javascript to display a loading message when the form is being submitted -->
            <script>
                const form = document.querySelector('form');
                const button = form.querySelector('button[type="submit"]');

                form.addEventListener('submit', () => {
                    button.disabled = true;
                    button.innerText = 'Submitting...';
                });
            </script>

            <!-- Footer -->
            <%- include("partials/footer") %>